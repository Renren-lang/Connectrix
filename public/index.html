<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Connectrix - Connecting Students & Alumni for Growth and Mentorship"
    />
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin" />
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="unsafe-none" />
    <meta http-equiv="Cross-Origin-Resource-Policy" content="cross-origin" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="cache-buster" content="20250118-1300" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
      /* Fallback for Font Awesome icons */
      .fas, .far, .fab {
        font-family: "Font Awesome 6 Free", "Font Awesome 6 Pro", "Font Awesome 6 Brands" !important;
        font-weight: 900;
      }
      .far {
        font-weight: 400;
      }
    </style>
    <title>Connectrix </title>
    <script>
      // Enhanced error handling for syntax errors and caching issues
      window.addEventListener('error', function(e) {
        console.error('JavaScript error detected:', e);
        
        if (e.message && e.message.includes('Unexpected token')) {
          console.error('Syntax error detected - likely caching issue:', e);
          console.error('Error details:', {
            message: e.message,
            filename: e.filename,
            lineno: e.lineno,
            colno: e.colno,
            timestamp: new Date().toISOString()
          });
          
          // Force reload to get fresh files
          if (confirm('A syntax error was detected. This is usually caused by cached files. Would you like to reload the page to get the latest version?')) {
            // Clear all caches and reload
            if ('caches' in window) {
              caches.keys().then(function(names) {
                names.forEach(function(name) {
                  caches.delete(name);
                });
              });
            }
            window.location.reload(true);
          }
        }
      });
      
      // Additional check for HTML content in JS files
      window.addEventListener('load', function() {
        // Check if any script tags are loading HTML instead of JS
        const scripts = document.querySelectorAll('script[src]');
        scripts.forEach(function(script) {
          if (script.src && script.src.includes('.js')) {
            fetch(script.src)
              .then(response => response.text())
              .then(text => {
                if (text.trim().startsWith('<!DOCTYPE') || text.trim().startsWith('<html')) {
                  console.error('Script file contains HTML instead of JavaScript:', script.src);
                  console.error('This indicates a server configuration issue or caching problem');
                  alert('A script file is loading HTML instead of JavaScript. This usually indicates a caching issue. Please refresh the page.');
                }
              })
              .catch(error => {
                console.error('Error checking script content:', error);
              });
          }
        });
      });
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
